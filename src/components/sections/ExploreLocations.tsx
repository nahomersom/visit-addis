import { motion } from "framer-motion"
import { useState } from "react"
import { UtensilsCrossed, Bed } from "lucide-react"

// SVG icon components with dynamic fill color
const FoodIcon = ({ fill = "#000000" }: { fill?: string }) => (
  <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M1.206 0H1.1904C1.11797 0.00153125 1.04641 0.0161674 0.9792 0.0432C0.882008 0.0816787 0.796555 0.144882 0.731306 0.226548C0.666056 0.308215 0.623275 0.405512 0.6072 0.5088C0.588 0.6216 0 4.314 0 6C0 7.14 0.5304 8.1564 1.356 8.814C1.656 9.0552 1.8 9.3168 1.8 9.5352V10.1352C1.8 10.1568 1.7988 10.1784 1.7964 10.2C1.764 10.512 1.6152 11.9148 1.4748 13.3572C1.3368 14.7792 1.2 16.2972 1.2 16.8C1.2 17.4365 1.45286 18.047 1.90294 18.4971C2.35303 18.9471 2.96348 19.2 3.6 19.2C4.23652 19.2 4.84697 18.9471 5.29706 18.4971C5.74714 18.047 6 17.4365 6 16.8C6 16.296 5.8632 14.7792 5.7252 13.3572C5.62261 12.3047 5.5154 11.2527 5.4036 10.2012L5.4 10.1352V9.5352C5.4 9.3156 5.544 9.0552 5.844 8.814C6.26686 8.47692 6.60835 8.0489 6.84311 7.56173C7.07786 7.07457 7.19984 6.54078 7.2 6C7.2 4.3104 6.6084 0.6012 6.5928 0.5076C6.57515 0.394817 6.5257 0.289409 6.45024 0.203749C6.37478 0.118089 6.27646 0.0557327 6.1668 0.024C6.11647 0.00926948 6.06443 0.00120076 6.012 0H5.988H5.9892C5.82931 0.00126648 5.6764 0.0656715 5.56379 0.179182C5.45118 0.292692 5.38799 0.446107 5.388 0.606V5.406C5.38965 5.48401 5.37593 5.56157 5.34761 5.63427C5.31928 5.70697 5.27692 5.77338 5.22293 5.82971C5.16894 5.88604 5.10439 5.93118 5.03296 5.96256C4.96152 5.99394 4.88461 6.01095 4.8066 6.0126C4.72859 6.01426 4.65103 6.00053 4.57833 5.97221C4.50563 5.94388 4.43922 5.90152 4.38289 5.84753C4.32656 5.79354 4.28142 5.72899 4.25004 5.65756C4.21866 5.58612 4.20165 5.50921 4.2 5.4312V0.6C4.2 0.44087 4.13679 0.288258 4.02426 0.175736C3.91174 0.0632142 3.75913 0 3.6 0C3.44087 0 3.28826 0.0632142 3.17574 0.175736C3.06321 0.288258 3 0.44087 3 0.6V5.4L3.0012 5.4384C2.9969 5.59594 2.9302 5.74532 2.81577 5.85368C2.70133 5.96204 2.54854 6.0205 2.391 6.0162C2.23346 6.0119 2.08408 5.9452 1.97572 5.83077C1.86737 5.71633 1.8089 5.56354 1.8132 5.406V0.6072C1.8132 0.446368 1.74939 0.292106 1.63578 0.178268C1.52217 0.0644307 1.36683 0.000317849 1.206 0ZM9 5.4C9 3.96783 9.56893 2.59432 10.5816 1.58162C11.5943 0.568927 12.9678 0 14.4 0C14.5591 0 14.7117 0.0632142 14.8243 0.175736C14.9368 0.288258 15 0.44087 15 0.6V8.9736L15.024 9.2424C15.1175 10.3206 15.2087 11.399 15.2976 12.4776C15.4464 14.286 15.6 16.2708 15.6 16.8C15.6 17.4365 15.3471 18.047 14.8971 18.4971C14.447 18.9471 13.8365 19.2 13.2 19.2C12.5635 19.2 11.953 18.9471 11.5029 18.4971C11.0529 18.047 10.8 17.4365 10.8 16.8C10.8 16.272 10.9536 14.286 11.1024 12.4776C11.1768 11.5644 11.2524 10.6812 11.3088 10.0272L11.3448 9.6H10.8C10.3226 9.6 9.86477 9.41036 9.52721 9.07279C9.18964 8.73523 9 8.27739 9 7.8V5.4Z" fill={fill}/>
  </svg>
)

const MuseumsIcon = ({ fill = "#000000" }: { fill?: string }) => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.7454 0.196875C12.286 -0.065625 11.7188 -0.065625 11.2547 0.196875L0.754747 6.19687C0.164122 6.53437 -0.126503 7.22812 0.0469349 7.88437C0.220372 8.54062 0.820372 9 1.50006 9H3.00006V18.75L0.60006 20.55C0.220372 20.8312 5.98652e-05 21.2766 5.98652e-05 21.75C5.98652e-05 22.5797 0.670372 23.25 1.50006 23.25H22.5001C23.3297 23.25 24.0001 22.5797 24.0001 21.75C24.0001 21.2766 23.7797 20.8312 23.4001 20.55L21.0001 18.75V9H22.5001C23.1797 9 23.7751 8.54062 23.9485 7.88437C24.1219 7.22812 23.8313 6.53437 23.2407 6.19687L12.7407 0.196875H12.7454ZM18.7501 9V18.75H15.7501V9H18.7501ZM13.5001 9V18.75H10.5001V9H13.5001ZM8.25006 9V18.75H5.25006V9H8.25006ZM12.0001 3.75C12.3979 3.75 12.7794 3.90804 13.0607 4.18934C13.342 4.47064 13.5001 4.85218 13.5001 5.25C13.5001 5.64782 13.342 6.02936 13.0607 6.31066C12.7794 6.59196 12.3979 6.75 12.0001 6.75C11.6022 6.75 11.2207 6.59196 10.9394 6.31066C10.6581 6.02936 10.5001 5.64782 10.5001 5.25C10.5001 4.85218 10.6581 4.47064 10.9394 4.18934C11.2207 3.90804 11.6022 3.75 12.0001 3.75Z" fill={fill}/>
  </svg>
)

const HikingIcon = ({ fill = "#000000" }: { fill?: string }) => (
<svg width="15" height="22"  viewBox="0 0 15 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.675 21.5L5.75 5.95001C5.85 5.46667 6.075 5.10401 6.425 4.86201C6.775 4.62001 7.14167 4.49934 7.525 4.50001C7.90833 4.50067 8.26267 4.58401 8.588 4.75001C8.91333 4.91601 9.17567 5.16601 9.375 5.50001L10.375 7.10001C10.675 7.58334 11.0627 8.02101 11.538 8.41301C12.0133 8.80501 12.559 9.09234 13.175 9.27501V7.50001H14.675V21.5H13.175V11.35C12.375 11.1667 11.6333 10.875 10.95 10.475C10.2667 10.075 9.675 9.58334 9.175 9.00001L8.575 12L10.675 14V21.5H8.675V15.5L6.575 13.5L4.775 21.5H2.675ZM3.1 11.625L0 11.05L1.325 4.17501L4.45 4.77501L3.1 11.625ZM9.175 4.00001C8.625 4.00001 8.15433 3.80434 7.763 3.41301C7.37167 3.02167 7.17567 2.55067 7.175 2.00001C7.17433 1.44934 7.37033 0.978673 7.763 0.588007C8.15567 0.19734 8.62633 0.00134009 9.175 6.75675e-06C9.72367 -0.00132658 10.1947 0.194673 10.588 0.588007C10.9813 0.98134 11.177 1.45201 11.175 2.00001C11.173 2.54801 10.9773 3.01901 10.588 3.41301C10.1987 3.80701 9.72767 4.00267 9.175 4.00001Z" fill={fill}/>
</svg>

)

const ShoppingIcon = ({ fill = "#000000" }: { fill?: string }) => (
  <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20.0756 4.01906C20.0052 3.93481 19.9172 3.86705 19.8177 3.82056C19.7183 3.77407 19.6098 3.74998 19.5 3.75H4.37625L3.80625 0.615937C3.77485 0.443126 3.6838 0.286814 3.54897 0.174254C3.41414 0.0616938 3.24408 2.53849e-05 3.06844 0H0.75C0.551088 0 0.360322 0.0790176 0.21967 0.21967C0.0790176 0.360322 0 0.551088 0 0.75C0 0.948912 0.0790176 1.13968 0.21967 1.28033C0.360322 1.42098 0.551088 1.5 0.75 1.5H2.4375L4.83375 14.6522C4.90434 15.0422 5.07671 15.4067 5.33344 15.7087C4.97911 16.0397 4.72336 16.4623 4.59455 16.9298C4.46575 17.3972 4.46892 17.8912 4.60371 18.3569C4.73851 18.8226 4.99966 19.2419 5.35821 19.5683C5.71676 19.8947 6.1587 20.1154 6.63502 20.2059C7.11134 20.2965 7.60344 20.2533 8.05673 20.0813C8.51003 19.9092 8.90682 19.615 9.2031 19.2312C9.49938 18.8474 9.68358 18.389 9.73527 17.907C9.78696 17.4249 9.70412 16.9379 9.49594 16.5H13.7541C13.5863 16.8513 13.4995 17.2357 13.5 17.625C13.5 18.1442 13.654 18.6517 13.9424 19.0834C14.2308 19.5151 14.6408 19.8515 15.1205 20.0502C15.6001 20.2489 16.1279 20.3008 16.6371 20.1996C17.1463 20.0983 17.614 19.8483 17.9812 19.4812C18.3483 19.114 18.5983 18.6463 18.6996 18.1371C18.8008 17.6279 18.7489 17.1001 18.5502 16.6205C18.3515 16.1408 18.0151 15.7308 17.5834 15.4424C17.1517 15.154 16.6442 15 16.125 15H7.04719C6.87155 15 6.70149 14.9383 6.56665 14.8257C6.43182 14.7132 6.34077 14.5569 6.30938 14.3841L6.01219 12.75H16.8872C17.4141 12.7499 17.9243 12.5649 18.3288 12.2272C18.7333 11.8896 19.0064 11.4206 19.1006 10.9022L20.2406 4.63406C20.2599 4.52572 20.2551 4.41447 20.2266 4.30818C20.1981 4.2019 20.1466 4.10319 20.0756 4.01906ZM8.25 17.625C8.25 17.8475 8.18402 18.065 8.0604 18.25C7.93679 18.435 7.76109 18.5792 7.55552 18.6644C7.34995 18.7495 7.12375 18.7718 6.90552 18.7284C6.68729 18.685 6.48684 18.5778 6.3295 18.4205C6.17217 18.2632 6.06502 18.0627 6.02162 17.8445C5.97821 17.6262 6.00049 17.4 6.08564 17.1945C6.17078 16.9889 6.31498 16.8132 6.49998 16.6896C6.68499 16.566 6.9025 16.5 7.125 16.5C7.42337 16.5 7.70952 16.6185 7.9205 16.8295C8.13147 17.0405 8.25 17.3266 8.25 17.625ZM17.25 17.625C17.25 17.8475 17.184 18.065 17.0604 18.25C16.9368 18.435 16.7611 18.5792 16.5555 18.6644C16.35 18.7495 16.1238 18.7718 15.9055 18.7284C15.6873 18.685 15.4868 18.5778 15.3295 18.4205C15.1722 18.2632 15.065 18.0627 15.0216 17.8445C14.9782 17.6262 15.0005 17.4 15.0856 17.1945C15.1708 16.9889 15.315 16.8132 15.5 16.6896C15.685 16.566 15.9025 16.5 16.125 16.5C16.4234 16.5 16.7095 16.6185 16.9205 16.8295C17.1315 17.0405 17.25 17.3266 17.25 17.625Z" fill={fill}/>
</svg>

)

const EntertainmentIcon = ({ fill = "#000000" }: { fill?: string }) => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.53714 5.79595e-07C1.86425 5.79595e-07 1.21892 0.267306 0.743112 0.743113C0.267305 1.21892 0 1.86425 0 2.53714L0 11.7857C0 13.188 1.13657 14.3229 2.53714 14.3229H9.03429V21.0326C9.03429 22.5531 10.2669 23.7857 11.7874 23.7857H21.0343C22.5549 23.7857 23.7874 22.5531 23.7874 21.0326V11.7857C23.7874 10.2651 22.5531 9.03257 21.0343 9.03257H14.3246V2.53886C14.3248 2.20539 14.2593 1.87514 14.1318 1.56701C14.0043 1.25888 13.8173 0.978912 13.5815 0.743112C13.3457 0.507312 13.0657 0.32031 12.7576 0.192801C12.4494 0.0652908 12.1192 -0.000224815 11.7857 5.79595e-07H2.53714ZM11.1771 11.7857C11.1771 11.4497 11.4514 11.1754 11.7874 11.1754H21.0343C21.372 11.1754 21.6446 11.4497 21.6446 11.7857V21.0326C21.6446 21.3703 21.3703 21.6429 21.0343 21.6429H11.7857C11.6239 21.6429 11.4686 21.5786 11.3542 21.4641C11.2397 21.3497 11.1754 21.1944 11.1754 21.0326L11.1771 11.7857ZM18.5126 13.236C18.117 13.236 17.7377 13.3931 17.458 13.6728C17.1783 13.9525 17.0211 14.3319 17.0211 14.7274C17.0211 15.123 17.1783 15.5023 17.458 15.782C17.7377 16.0617 18.117 16.2189 18.5126 16.2189C18.9081 16.2189 19.2875 16.0617 19.5672 15.782C19.8469 15.5023 20.004 15.123 20.004 14.7274C20.004 14.3319 19.8469 13.9525 19.5672 13.6728C19.2875 13.3931 18.9081 13.236 18.5126 13.236ZM12.8177 18.0909C12.8177 17.895 12.8563 17.7011 12.9312 17.5201C13.0062 17.3392 13.1161 17.1747 13.2545 17.0363C13.393 16.8978 13.5575 16.7879 13.7384 16.713C13.9193 16.638 14.1133 16.5994 14.3091 16.5994C14.505 16.5994 14.6989 16.638 14.8799 16.713C15.0608 16.7879 15.2253 16.8978 15.3637 17.0363C15.5022 17.1747 15.6121 17.3392 15.687 17.5201C15.762 17.7011 15.8006 17.895 15.8006 18.0909C15.8006 18.4864 15.6434 18.8658 15.3637 19.1455C15.084 19.4252 14.7047 19.5823 14.3091 19.5823C13.9136 19.5823 13.5342 19.4252 13.2545 19.1455C12.9748 18.8658 12.8177 18.4864 12.8177 18.0909ZM4.29771 6.04286C3.90216 6.04058 3.52372 5.88127 3.24563 5.59997C2.96754 5.31866 2.81258 4.93841 2.81486 4.54286C2.81713 4.14731 2.97644 3.76886 3.25775 3.49077C3.53905 3.21268 3.91931 3.05773 4.31486 3.06H4.332C4.72755 3.06227 5.106 3.22159 5.38409 3.50289C5.66218 3.7842 5.81713 4.16445 5.81486 4.56C5.81258 4.95555 5.65327 5.334 5.37197 5.61209C5.09066 5.89018 4.71041 6.04513 4.31486 6.04286H4.29771ZM4.29771 11.2646C4.10186 11.2634 3.90814 11.2238 3.72762 11.1478C3.5471 11.0718 3.38332 10.961 3.24563 10.8217C2.96754 10.5404 2.81258 10.1601 2.81486 9.76457C2.81713 9.36902 2.97644 8.99057 3.25775 8.71248C3.53905 8.43439 3.91931 8.27944 4.31486 8.28172H4.332C4.52786 8.28284 4.72157 8.32253 4.90209 8.39852C5.08261 8.47451 5.24639 8.58532 5.38409 8.72461C5.52178 8.86389 5.6307 9.02894 5.70461 9.21032C5.77852 9.3917 5.81598 9.58586 5.81486 9.78172C5.81373 9.97757 5.77404 10.1713 5.69805 10.3518C5.62206 10.5323 5.51125 10.6961 5.37197 10.8338C5.23268 10.9715 5.06763 11.0804 4.88625 11.1543C4.70488 11.2282 4.51071 11.2657 4.31486 11.2646H4.29771ZM10.0286 3.06C10.2244 3.06225 10.4179 3.10306 10.598 3.18009C10.7781 3.25712 10.9412 3.36887 11.0781 3.50895C11.215 3.64904 11.323 3.81471 11.3959 3.99652C11.4688 4.17833 11.5051 4.37271 11.5029 4.56857C11.5006 4.76443 11.4598 4.95792 11.3828 5.13801C11.3057 5.3181 11.194 5.48125 11.0539 5.61815C10.9138 5.75505 10.7481 5.86302 10.5663 5.93589C10.3845 6.00876 10.1901 6.04511 9.99429 6.04286C9.59873 6.03831 9.22119 5.87682 8.94471 5.59391C8.66823 5.31099 8.51545 4.92984 8.52 4.53429C8.52455 4.13873 8.68604 3.76119 8.96895 3.48471C9.25186 3.20823 9.63302 3.05545 10.0286 3.06Z" fill={fill}/>
</svg>

)

const filters = [
  { name: "Eatery", Icon: FoodIcon },
  { name: "Museums", Icon: MuseumsIcon },
  { name: "Hiking", Icon: HikingIcon },
  { name: "Shopping", Icon: ShoppingIcon },
  { name: "Entertainment", Icon: EntertainmentIcon },
]

const locations = [
  { name: "Toro Grill and Lounge", type: "eatery", x: 15, y: 75 },
  { name: "HOTTO", type: "eatery", x: 20, y: 60 },
  { name: "The Hacienda Restaurant", type: "eatery", x: 25, y: 55 },
  { name: "Berlin Bar & Restaurant", type: "eatery", x: 30, y: 50 },
  { name: "URAEL", type: "eatery", x: 35, y: 45 },
  { name: "Ye Tiru Kitfo", type: "eatery", x: 40, y: 70 },
  { name: "Zemera Cultural Bar and Restaurant", type: "eatery", x: 50, y: 30 },
  { name: "مطعم بكري BAKRI RESTAURANT", type: "eatery", x: 55, y: 50 },
  { name: "Senayit Restaurant - مطعم سانایت", type: "eatery", x: 75, y: 25 },
  { name: "Beemnet Restaurant No. 4", type: "eatery", x: 80, y: 75 },
  { name: "Blue Sky hotel", type: "hotel", x: 85, y: 20 },
]

export function ExploreLocations() {
  const [activeFilter, setActiveFilter] = useState("Eatery")

  const filteredLocations = activeFilter === "Eatery" 
    ? locations.filter(loc => loc.type === "eatery")
    : locations

  return (
    <section className="py-[60px] px-[120px]">
      <div className="w-full">
        {/* Header Section */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          transition={{ duration: 0.6 }}
          className="mb-8"
        >
          
          <div
          className="flex justify-between  "
        >
          <h2 className="text-2xl font-semibold ">
          Explore Locations
          </h2>
          <p className="text-sm text-[#758886] max-w-[400px] ">
            Discover the city's must-see landmarks, from ancient treasures to modern cultural hubs.
          </p>
        </div>
          
        

          {/* Filters */}
          <div className="flex flex-wrap gap-3 mt-6">
            {filters.map((filter) => {
              const isActive = activeFilter === filter.name
              const IconComponent = filter.Icon
              return (
                <button
                  key={filter.name}
                  onClick={() => setActiveFilter(filter.name)}
                  className={`pl-1.5 pr-6 py-2 rounded-[100px] font-medium transition-colors flex items-center gap-2 cursor-pointer ${
                    isActive
                      ? "bg-theme-secondary text-white"
                      : "bg-[#f5f5f5] text-text-dark-80 text-sm font-medium"
                  }`}
                >
                  <div className="size-11 rounded-full bg-white flex items-center justify-center">
                    <IconComponent fill={isActive ? '#1EAA9D' : '#000000'} />
                  </div>
                  {filter.name}
                </button>
              )
            })}
          </div>
        </motion.div>

        {/* Map */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          transition={{ duration: 0.6, delay: 0.2 }}
          className="relative h-96 lg:h-[600px] rounded-lg overflow-hidden bg-gray-200 border border-gray-300"
        >
          {/* Map Grid Background */}
          <div className="absolute inset-0 bg-gray-200">
            {/* Grid lines */}
            <svg className="absolute inset-0 w-full h-full opacity-30">
              <defs>
                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                  <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#94a3b8" strokeWidth="1"/>
                </pattern>
              </defs>
              <rect width="100%" height="100%" fill="url(#grid)" />
            </svg>

            {/* Green shapes (parks/water) */}
            <div className="absolute top-10 left-10 w-32 h-24 bg-green-200 rounded-lg opacity-60"></div>
            <div className="absolute bottom-20 right-20 w-40 h-32 bg-green-200 rounded-lg opacity-60"></div>
            <div className="absolute top-1/2 left-1/3 w-28 h-20 bg-green-200 rounded-lg opacity-60"></div>

            {/* Road names */}
            <div className="absolute top-5 left-5 text-xs font-medium text-gray-600">Congo St</div>
            <div className="absolute top-5 right-5 text-xs font-medium text-gray-600">Ghana St</div>
            <div className="absolute bottom-5 left-5 text-xs font-medium text-gray-600">Airport Road</div>
            <div className="absolute top-1/2 right-10 text-xs font-medium text-gray-600">Bekelech St</div>
            <div className="absolute bottom-5 right-5 text-xs font-medium text-gray-600">Djibuti St</div>

            {/* Location Markers */}
            {filteredLocations.map((location, index) => (
              <div
                key={index}
                className="absolute group"
                style={{
                  left: `${location.x}%`,
                  top: `${location.y}%`,
                  transform: "translate(-50%, -50%)",
                }}
              >
                <div className={`relative ${
                  location.type === "eatery" 
                    ? "bg-red-500" 
                    : location.type === "hotel"
                    ? "bg-pink-500"
                    : "bg-gray-500"
                } w-8 h-8 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:scale-110 transition-transform`}>
                  {location.type === "eatery" && (
                    <UtensilsCrossed className="w-4 h-4 text-white" />
                  )}
                  {location.type === "hotel" && (
                    <Bed className="w-4 h-4 text-white" />
                  )}
                </div>
                {/* Location Label */}
                <div className="absolute top-10 left-1/2 transform -translate-x-1/2 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                  <div className="bg-white px-2 py-1 rounded text-xs font-medium text-gray-800 shadow-lg whitespace-normal max-w-[150px] text-center">
                    {location.name}
                  </div>
                </div>
              </div>
            ))}

            {/* Additional unnamed markers */}
            {activeFilter === "Eatery" && (
              <>
                <div className="absolute top-[20%] left-[45%] bg-red-500 w-8 h-8 rounded-full flex items-center justify-center shadow-lg">
                  <UtensilsCrossed className="w-4 h-4 text-white" />
                </div>
                <div className="absolute top-[35%] left-[60%] bg-red-500 w-8 h-8 rounded-full flex items-center justify-center shadow-lg">
                  <UtensilsCrossed className="w-4 h-4 text-white" />
                </div>
                <div className="absolute top-[50%] left-[25%] bg-red-500 w-8 h-8 rounded-full flex items-center justify-center shadow-lg">
                  <UtensilsCrossed className="w-4 h-4 text-white" />
                </div>
                <div className="absolute top-[65%] left-[70%] bg-red-500 w-8 h-8 rounded-full flex items-center justify-center shadow-lg">
                  <UtensilsCrossed className="w-4 h-4 text-white" />
                </div>
              </>
            )}
          </div>
        </motion.div>
      </div>
    </section>
  )
}

